<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<record id="view_material_request_form_form" model="ir.ui.view">
		<field name="name">material.request.form.form</field>
		<field name="model">material.request.form</field>
		<field name="arch" type="xml">
			<form>
				<header>
					<button name='pre_create' string="Create on COS" type="object" class='oe_highlight' 
					attrs="{'invisible': [('is_created_on_cos','=',True)]}" />
					<field name="status" widget="statusbar" statusbar_visible="1,2,3,4,5,6,7"/>
				</header>

				<sheet>
					<group>
						<group>
							<field name="name" />
							<field name="equipment_request_id" readonly="True" />
							<field name="sp_mrf_id" required="True"/>
							<field name="request_type" required="True"/>
							<field name="mrf_type" required="True" options="{'no_create': True, 'no_create_edit':True}" />
							<field name="moving_from" required="True" options="{'no_create': True, 'no_create_edit':True}"/>
						</group>
						<group>
							<field name="contractor" placeholder="e.g ITD" required="True" 
							options="{'no_create': True, 'no_create_edit':True}"/>
							<field name="requested_availability" />
							<field name="delivery" />
							<field name="unloading" widget="radio"/>
							<field name="lifting" widget="radio"/>
						</group>
					</group>
					<group>
						<field name="sp_mrf_validated" />
						<field name="return_explanations" />
						<field name="is_created_on_cos" readonly="True"/>
						<field name="cos_entity_id" readonly="True"/>
					</group>
					
					<notebook>
						<page string="MRF Product Lines">
							<field name="mrf_lines">
	                           <tree editable="bottom">
	                           		<field name='product_id' required="True"/>
	                           		<field name='name' />
	                           		<field name='quantity_requested' required="True"/>
	                           		<field name='quantity_prepared' />
	                           		<field name='quantity_to_prepare' />
	                           		<field name='request_type' />
	                           		<field name='comment' />
	                           </tree>   
	                        </field>    
	                     </page>
					</notebook>
				</sheet>
			
			</form>
		</field>
	</record>


	<record id="view_material_request_form_tree" model="ir.ui.view">
		<field name="name">material.request.form.tree</field>
		<field name="model">material.request.form</field>
		<field name="arch" type="xml">
			<tree>
				<field name="equipment_request_id" />
				<field name="sp_mrf_id" />
				<field name="request_type" />
				<field name="mrf_type" />
				<field name="moving_from" />
				<field name="unloading" />
				<field name="lifting" />
				<field name="contractor"/>
				<field name="delivery" />
				<field name="status" />
				<field name="cos_entity_id" />
			</tree>
		</field>
	</record>

	<record id="view_material_request_form_search" model="ir.ui.view">
		<field name="name">material.request.form.search</field>
		<field name="model">material.request.form</field>
		<field name="arch" type="xml">
			<search>
				<field name="equipment_request_id" />
				<field name="sp_mrf_id" />
				<field name="request_type" />
				<field name="mrf_type" />
				<field name="moving_from" />
				<field name="unloading" />
				<field name="lifting" />
				<field name="contractor"/>
				<field name="delivery" />
				<field name="status" />
				<field name="cos_entity_id" />
			</search>
		</field>
	</record>


	<record id="action_material_request_form_view" model="ir.actions.act_window">
		<field name="name">Material Request Form</field>
		<field name="res_model">material.request.form</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
		<field name="search_view_id" ref="view_material_request_form_search" />
		<field name="view_id" ref="view_material_request_form_tree" />
		<field name="help" type="html">
			<p class="o_view_nocontent_smiling_face">
				MRF's not found.....
				Let's create one....
			</p>
		</field>
	</record>


</odoo>


