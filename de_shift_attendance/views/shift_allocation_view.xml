<odoo>

    <record id="view_shift_allocation_form" model="ir.ui.view">
		<field name="name">shift.allocation.form</field>
		<field name="model">hr.shift.allocation</field>
		<field name="arch" type="xml">

			<form string="Shift Allocation">
				<header>
                    <button name="action_shift_process"
							type="object"
							string="Process"
                            class='oe_highlight'
							states = "draft" />
                    
                    <button name="action_shift_management"
							type="object"
							string="Approve"
                            class='oe_highlight'
							states = "processed" />
                    
                    <button name="action_cancel_shift_allocation"
							type="object"
							string="Cancel Allocation"
                            class='oe_highlight'
							states = "approved,processed" />
                    
                    <field name="state" widget="statusbar" statusbar_visible="draft,processed,approved"/>
                </header>

				<sheet>

					<h1><field name="name"/></h1>

					<group>

						<group>
                            <field name="week_day_ids"  widget="many2many_tags" options="{'create': false, 'create_edit': false}" attrs="{'readonly': [('state','!=', 'draft')]}"/>
                            <field name="shift_type_id" widget="many2many_tags" options="{'create': false, 'create_edit': false}" attrs="{'readonly': [('state','!=', 'draft')]}"/>
							<field name="allow_replicate" attrs="{'readonly': [('state','!=', 'draft')]}" />
						</group>

                        <group>
							<field name="date_start" attrs="{'readonly': [('state','!=', 'draft')]}"/>
							<field name="date_end" attrs="{'readonly': [('state','!=', 'draft')]}"/>
						</group>

					</group>
                    
                    

					<notebook>
						<page string="Allocated Shifts">
							<field name="allocation_lines" attrs="{'readonly': [('state','=', 'approved')]}">
								<tree  editable="bottom"  create="false" edit="false" >
									<field name="date" readonly="1"/>
									<field name="day" readonly="1"/>
									<field name="shift_one"/>
									<field name="shift_one_type"
										   attrs="{'readonly': [('shift_one','=',False)]}"     options="{'create': false, 'create_edit': false}" />
									<field name="shift_two"/>
									<field name="shift_two_type"
										   attrs="{'readonly':[('shift_two','=',False)]}"   options="{'create': false, 'create_edit': false}" />
<!--									,'invisible':[('hide_field','=', True)]-->
<!--									<field name="hide_field" invisible="1"/>-->
									<field name="rest_day"/>
									<field name="rel_allocation"
										   invisible="1"/>
								</tree>
							</field>
						</page>
                        <page string="Employees">
                                <field name="employee_ids" attrs="{'readonly': [('state','!=', 'draft')]}">
                                    <tree>
                                     <field name="name"/>
<!--                                      <field name="id"invisible="1"/> -->
                                     <field name="department_id"/>
                                    </tree>
                                
                                </field>
                            </page>
					</notebook>

				</sheet>
			</form>

		</field>
	</record>

	<record id="view_shift_allocation_tree" model="ir.ui.view">
		<field name="name">shift.allocation.tree</field>
		<field name="model">hr.shift.allocation</field>
		<field name="arch" type="xml">

			<tree string="Shift Allocation">
				<field name="name"/>
<!--                <field name="max_shift_day"/>-->
                <field name="date_start"/>
                <field name="date_end"/>
			</tree>

		</field>
	</record>

	<record id="view_shift_allocation_search" model="ir.ui.view">
		<field name="name">shift.allocation.search</field>
		<field name="model">hr.shift.allocation</field>
		<field name="arch" type="xml">

			<search string="Shift Allocation">
				<field name="name"/>
<!--                <field name="max_shift_day"/>-->
			</search>

		</field>
	</record>

    <record id="action_shift_allocation_view" model="ir.actions.act_window">
		<field name="name">Shift Allocation</field>
		<field name="res_model">hr.shift.allocation</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
		<field name="search_view_id" ref="view_shift_allocation_search"/>
		<field name="view_id" ref="view_shift_allocation_tree"/>
		<field name="help" type="html">

			<p class="o_view_nocontent_smiling_face">
				Add Shift Allocations .............
			</p>

		</field>
	</record>

	<menuitem
		  id="shift_allocation_menu"
		  name="Shift Allocation"
		  parent="hr_attendance.menu_hr_attendance_settings"
		  action="de_shift_attendance.action_shift_allocation_view"
		  sequence="1"
	/>
    
    
    

    
    
    	<record id="view_shift_allocation_weekday_tree" model="ir.ui.view">
		<field name="name">shift.week.days.tree</field>
		<field name="model">shift.week.days</field>
		<field name="arch" type="xml">

			<tree string="Shift Weekday"  create="false" edit="false">
				<field name="name"/>
			</tree>

		    </field>
	       </record>



    <record id="action_shift_allocation_weekday_view" model="ir.actions.act_window">
		<field name="name">Week Days</field>
		<field name="res_model">shift.week.days</field>
		<field name="type">ir.actions.act_window</field>
		<field name="view_mode">tree,form</field>
		<field name="domain">[]</field>
		<field name="context">{}</field>
		<field name="help" type="html">

			<p class="o_view_nocontent_smiling_face">
				Add Week Days .............
			</p>

		</field>
	</record>
    
    
   
    
    
    
    
    
    
    <menuitem
		  id="shift_allocation_weekday_menu"
		  name="Weekday"
		  parent="hr_attendance.menu_hr_attendance_settings"
		  action="de_shift_attendance.action_shift_allocation_weekday_view"
		  sequence="32"
	/>

</odoo>





